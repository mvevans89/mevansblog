<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Advent of Code 2021 &middot; Michelle Evans</title>
        <meta name="description" content="This post will follow my solutions to the 2021 Advent of Code. Each &ldquo;day&rdquo; is it&rsquo;s own self-contained chunk of code, so all of the packages, functions, data, etc. needed for that day is found under that sub-title.
Day 1 Part I Here is a link to the full problem. Essentially, we need to find a way to count instances where x&#43;1 &gt; x. A nice way to do this is via a function.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.80.0" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="https://ditheringdata.netlify.com/dist/styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
        
    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="m.evans" href="https://ditheringdata.netlify.com/">m.evans</a>
                            </h1>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" title="Email" href="mailto:mv.evans.phd@gmail.com">
                                <i class="fa fa-envelope"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/mv_evans">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/mvevans89">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href="https://stackoverflow.com/users/5688284/michelle-evans">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                        

                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Blog" href="/">Blog</a>
    </li>

    <li class="site-nav-item">
        <a title="Topics" href="/tags/">Topics</a>
    </li>

    <li class="site-nav-item">
        <a title="About" href="/page/about/">About</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Advent of Code 2021</h1>
    
    <p class="post-date">
        <span>Published <time datetime="2021-12-05" itemprop="datePublished">Sun, Dec 5, 2021</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="https://mvevans89.github.io/" itemprop="url" rel="author">Michelle Evans</a>
            </span>
        </span>
    </p>
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <p>This post will follow my solutions to the <a href="https://adventofcode.com/2021">2021 Advent of Code</a>. Each &ldquo;day&rdquo; is it&rsquo;s own self-contained chunk of code, so all of the packages, functions, data, etc. needed for that day is found under that sub-title.</p>
<h1 id="day-1">Day 1</h1>
<h2 id="part-i">Part I</h2>
<p><a href="https://adventofcode.com/2021/day/1">Here</a> is a link to the full problem. Essentially, we need to find a way to count instances where <code>x+1 &gt; x</code>.  A nice way to do this is via a function.</p>
<p>First, we can create some example data to test our function on:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">test.data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">runif</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">100</span>,<span style="color:#ae81ff">200</span>))
test.data
</code></pre></div><pre><code>##  [1] 108 131 157 119 130 111 100 101 103 182
</code></pre><p>Now we write a function to return the count of how many instances of increase over one step there are:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">count_increase <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(vec){
  count <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">0</span>
  <span style="color:#a6e22e">for</span>(i in <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#a6e22e">length</span>(vec)){
    <span style="color:#a6e22e">if</span>(vec[i]<span style="color:#f92672">&gt;</span>vec[i<span style="color:#ae81ff">-1</span>]) count <span style="color:#f92672">&lt;-</span> count <span style="color:#ae81ff">+1</span>
  }
  <span style="color:#a6e22e">return</span>(count)
}
</code></pre></div><p>Does it work?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">count_increase</span>(test.data)
</code></pre></div><pre><code>## [1] 6
</code></pre><p>Now we try it on the true data:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#load here package for easier data loading</span>
<span style="color:#a6e22e">library</span>(here)
</code></pre></div><pre><code>## here() starts at /Users/mvevans/Dropbox/git/mevansblog
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">input.data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.table</span>(<span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;static&#34;</span>, <span style="color:#e6db74">&#34;data&#34;</span>, <span style="color:#e6db74">&#34;advent-code&#34;</span>, <span style="color:#e6db74">&#34;day01.txt&#34;</span>))

<span style="color:#75715e">#test our function</span>
<span style="color:#a6e22e">count_increase</span>(input.data<span style="color:#f92672">$</span>V1)
</code></pre></div><pre><code>## [1] 1477
</code></pre><h2 id="part-ii">Part II</h2>
<p>For the second part, we want to compare moving window statistics to see the difference in depth across groups of three measurements. For more info on moving window statistics, you can look at an <a href="https://ditheringdata.netlify.app/2020/02/11/rolling-functions-along-columns/">old post of mine on the topic</a>.</p>
<p>For extra challenge, we can this without the help of packages like <code>zoo</code> or <code>dplyr</code> that already have built in functions for this.</p>
<p>We can make a new function that compares the averages across a rolling window, and make that window itself an argument for the function, so we could apply it to a range of window sizes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">count_increase_window <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(window_size, vec){
  count <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">0</span>
  <span style="color:#a6e22e">for</span>(i <span style="color:#a6e22e">in </span>(window_size<span style="color:#ae81ff">+1</span>)<span style="color:#f92672">:</span><span style="color:#a6e22e">length</span>(vec)){
    <span style="color:#a6e22e">if</span>(<span style="color:#a6e22e">sum</span>(vec<span style="color:#a6e22e">[</span>(i<span style="color:#f92672">-</span>(window_size<span style="color:#ae81ff">-1</span>))<span style="color:#f92672">:</span>i]) <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">sum</span>(vec<span style="color:#a6e22e">[</span>(i<span style="color:#ae81ff">-1</span>)<span style="color:#f92672">:</span>(i<span style="color:#f92672">-</span>window_size)])) count <span style="color:#f92672">&lt;-</span> count <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
  }
  <span style="color:#a6e22e">return</span>(count)
}
</code></pre></div><p>Note that we start the for-loop at <code>window_size+1</code> so we our first comparison can be with a full window from <code>1:window_size</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">count_increase_window</span>(window_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, vec <span style="color:#f92672">=</span> input.data<span style="color:#f92672">$</span>V1)
</code></pre></div><pre><code>## [1] 1523
</code></pre>
</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/r/">R</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?text=Advent%20of%20Code%202021&url=https%3a%2f%2fditheringdata.netlify.com%2f2021%2f12%2f05%2fadvent-of-code-2021%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        

        
        
    </div>
</footer>

        
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="m.evans" href="https://ditheringdata.netlify.com/">m.evans</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2021 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://ditheringdata.netlify.com/js/jquery-1.11.3.min.js"></script>
        <script src="https://ditheringdata.netlify.com/js/jquery.fitvids.js"></script>
        
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        <script src="https://ditheringdata.netlify.com/js/scripts.js"></script>
        
<script src="/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    </body>
</html>

